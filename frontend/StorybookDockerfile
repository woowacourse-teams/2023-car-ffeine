FROM arm64v8/node:18-alpine

WORKDIR /usr/src/app

COPY package.json package.json
COPY yarn.lock yarn.lock

RUN npm install -g yarn

RUN yarn

COPY . .

EXPOSE 3000

RUN yarn run build-storybook

RUN npm install -g serve

ENTRYPOINT ["serve","-l", "3000", "-s", "storybook-static"]
